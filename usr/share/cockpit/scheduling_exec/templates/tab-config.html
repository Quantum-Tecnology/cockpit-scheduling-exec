<!-- Template: Tab ConfiguraÃ§Ãµes -->
<div class="pf-l-grid__item pf-m-12-col">
  <div id="config-tab-content" class="tab-content" style="display: none">
    <div class="pf-l-grid pf-m-gutter">
      <!-- DiretÃ³rios configurados -->
      <div class="pf-l-grid__item pf-m-6-col-on-lg pf-m-12-col">
        <div class="pf-c-card">
          <div class="pf-c-card__header">
            <div class="pf-c-card__header-main">
              <h2 class="pf-c-card__title">ğŸ“ DiretÃ³rios Monitorados</h2>
            </div>
          </div>
          <div class="pf-c-card__body">
            <p
              style="
                color: var(--pf-global--Color--200);
                margin-bottom: var(--pf-global--spacer--md);
              "
            >
              Adicione os diretÃ³rios onde seus backups estÃ£o armazenados.
            </p>
            <button
              class="pf-c-button pf-m-primary pf-m-block"
              onclick="openAddDirectoryModal()"
            >
              â• Adicionar DiretÃ³rio
            </button>
            <div
              id="directories-list"
              style="margin-top: var(--pf-global--spacer--md)"
            >
              <!-- Lista de diretÃ³rios serÃ¡ preenchida aqui -->
            </div>
          </div>
        </div>
      </div>

      <!-- DiretÃ³rios de Scripts -->
      <div class="pf-l-grid__item pf-m-6-col-on-lg pf-m-12-col">
        <div class="pf-c-card">
          <div class="pf-c-card__header">
            <div class="pf-c-card__header-main">
              <h2 class="pf-c-card__title">ğŸ“‚ DiretÃ³rios de Scripts</h2>
            </div>
          </div>
          <div class="pf-c-card__body">
            <p
              style="
                color: var(--pf-global--Color--200);
                margin-bottom: var(--pf-global--spacer--md);
              "
            >
              Configure os diretÃ³rios onde seus scripts estÃ£o localizados.
            </p>
            <button
              class="pf-c-button pf-m-primary pf-m-block"
              onclick="automationAddScriptDirectory()"
            >
              â• Adicionar DiretÃ³rio
            </button>
            <div
              id="automation-script-directories-list"
              style="margin-top: var(--pf-global--spacer--md)"
            >
              <!-- Lista serÃ¡ renderizada aqui -->
            </div>
          </div>
        </div>
      </div>

      <!-- ConfiguraÃ§Ãµes de email -->
      <div class="pf-l-grid__item pf-m-6-col-on-lg pf-m-12-col">
        <div class="pf-c-card">
          <div class="pf-c-card__header">
            <div class="pf-c-card__header-main">
              <h2 class="pf-c-card__title">ğŸ“§ ConfiguraÃ§Ãµes de Email</h2>
            </div>
          </div>
          <div class="pf-c-card__body">
            <form id="email-config-form">
              <div class="pf-c-form__group">
                <label class="pf-c-form__label" for="email-recipient">
                  <span class="pf-c-form__label-text"
                    >Email do DestinatÃ¡rio</span
                  >
                  <span class="pf-c-form__label-required" aria-hidden="true"
                    >*</span
                  >
                </label>
                <input
                  class="pf-c-form-control"
                  type="email"
                  id="email-recipient"
                  placeholder="exemplo@dominio.com"
                  required
                />
                <p class="pf-c-form__helper-text">
                  Email para onde os backups serÃ£o enviados
                </p>
              </div>

              <div class="pf-c-form__group">
                <label class="pf-c-form__label" for="email-subject">
                  <span class="pf-c-form__label-text">Assunto do Email</span>
                </label>
                <input
                  class="pf-c-form-control"
                  type="text"
                  id="email-subject"
                  value="Backup do Sistema - {{date}}"
                />
                <p class="pf-c-form__helper-text">
                  Use {{date}} para incluir a data atual
                </p>
              </div>

              <div class="pf-c-form__group">
                <label class="pf-c-form__label" for="max-email-size">
                  <span class="pf-c-form__label-text">Tamanho MÃ¡ximo (MB)</span>
                </label>
                <input
                  class="pf-c-form-control"
                  type="number"
                  id="max-email-size"
                  value="25"
                  min="1"
                  max="100"
                />
                <p class="pf-c-form__helper-text">
                  Tamanho mÃ¡ximo de anexo permitido para envio por email
                </p>
              </div>

              <button class="pf-c-button pf-m-primary pf-m-block" type="submit">
                ğŸ’¾ Salvar ConfiguraÃ§Ãµes
              </button>
              <button
                class="pf-c-button pf-m-secondary pf-m-block"
                type="button"
                id="test-email-config-btn"
                style="margin-top: 10px"
              >
                ğŸ”§ Testar ConfiguraÃ§Ã£o de Email
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- ConfiguraÃ§Ãµes de Backup de VMs -->
      <div class="pf-l-grid__item pf-m-6-col-on-lg pf-m-12-col">
        <div class="pf-c-card">
          <div class="pf-c-card__header">
            <div class="pf-c-card__header-main">
              <h2 class="pf-c-card__title">ğŸ’¿ Backup de VMs</h2>
            </div>
          </div>
          <div class="pf-c-card__body">
            <div class="pf-c-form__group">
              <label class="pf-c-form__label" for="vm-dest-dir">
                <span class="pf-c-form__label-text"
                  >ğŸ“ DiretÃ³rio de Destino</span
                >
                <span class="pf-c-form__label-required" aria-hidden="true"
                  >*</span
                >
              </label>
              <input
                class="pf-c-form-control"
                type="text"
                id="vm-dest-dir"
                value="/mnt/storage/backups/vm_backups"
                onchange="updateVMBackupConfig()"
              />
              <p class="pf-c-form__helper-text">
                Onde os backups das VMs serÃ£o armazenados
              </p>
            </div>

            <div class="pf-c-form__group">
              <label class="pf-c-form__label" for="vm-retention-days">
                <span class="pf-c-form__label-text">ğŸ—“ï¸ Dias de RetenÃ§Ã£o</span>
              </label>
              <input
                class="pf-c-form-control"
                type="number"
                id="vm-retention-days"
                value="7"
                min="0"
                max="365"
                onchange="updateVMBackupConfig()"
              />
              <p class="pf-c-form__helper-text">
                Backups mais antigos que este perÃ­odo serÃ£o removidos
                automaticamente
              </p>
            </div>

            <div class="pf-c-form__group">
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--pf-global--spacer--sm);
                "
              >
                <input
                  type="checkbox"
                  id="vm-verify-checksum"
                  class="custom-checkbox"
                  onchange="updateVMBackupConfig()"
                />
                <label
                  for="vm-verify-checksum"
                  style="margin: 0; cursor: pointer"
                >
                  <strong>ğŸ” Verificar Checksum (SHA256)</strong>
                </label>
              </div>
              <p class="pf-c-form__helper-text" style="margin-left: 26px">
                Verifica integridade do backup (aumenta o tempo de backup)
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- AÃ§Ãµes em lote -->
      <div class="pf-l-grid__item pf-m-12-col">
        <div class="pf-c-card">
          <div class="pf-c-card__header">
            <div class="pf-c-card__header-main">
              <h2 class="pf-c-card__title">ğŸ› ï¸ AÃ§Ãµes em Lote</h2>
            </div>
          </div>
          <div class="pf-c-card__body">
            <div class="pf-l-grid pf-m-gutter">
              <div class="pf-l-grid__item pf-m-4-col-on-lg pf-m-12-col">
                <button
                  class="pf-c-button pf-m-secondary pf-m-block"
                  onclick="refreshBackupList()"
                >
                  ğŸ”„ Atualizar Lista de Backups
                </button>
              </div>
              <div class="pf-l-grid__item pf-m-4-col-on-lg pf-m-12-col">
                <button
                  class="pf-c-button pf-m-secondary pf-m-block"
                  onclick="exportAllBackups()"
                >
                  ğŸ“¦ Exportar Todos os Backups
                </button>
              </div>
              <div class="pf-l-grid__item pf-m-4-col-on-lg pf-m-12-col">
                <button
                  class="pf-c-button pf-m-danger pf-m-block"
                  onclick="cleanOldBackups()"
                >
                  ğŸ—‘ï¸ Limpar Backups Antigos
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
